parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"or4r":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"WEtf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},e=r;exports.default=e;
},{}],"hZBy":[function(require,module,exports) {
"use strict";function e(e){return r(e)||n(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e){return document.querySelector(e)}function s(t){return e((arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t))}function c(t,n){return e(t.querySelectorAll(n))}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")}function l(e,t){e.classList?e.classList.add(t):e.className="".concat(e.className," ").concat(t)}function i(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )".concat(t,"( |$)"),"gi").test(e.className)}function u(e,t){t=t||0;var n=e.getBoundingClientRect().top+t,r=(window.pageYOffset||document.documentElement.scrollTop)+n;window.scrollTo(0,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.select=o,exports.selectAll=s,exports.find=c,exports.removeClass=a,exports.addClass=l,exports.hasClass=i,exports.jumpTo=u;
},{}],"U9xJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./dom");function t(){(0,e.selectAll)("[target='_blank']").forEach(function(e){return e.setAttribute("rel","noopener")})}
},{"./dom":"hZBy"}],"b9Lb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{quizID:1,main:[4,10],uncensored:null,exact:[2,3,4,5,8,9,10]},{quizID:2,main:[3,11],uncensored:null,exact:[3,9,10,11]},{quizID:3,main:null,uncensored:9,exact:[]},{quizID:4,main:[6],uncensored:null,exact:[6,7,8]},{quizID:5,main:[7],uncensored:2,exact:[7]}];exports.default=e;
},{}],"qa0R":[function(require,module,exports) {
"use strict";function e(e){if(!e.size())return!1;var t=e.html().split(" ").map(function(e,t){return"<span data-index=".concat(t,">").concat(e,"</span>")}).join(" ");return e.html(t),!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={prepare:e};exports.default=t;
},{}],"xZJw":[function(require,module,exports) {
"use strict";function t(t){return new Promise(function(e,n){var r=t.split(".").pop();"csv"===r?d3.csv("assets/data/".concat(t)).then(e).catch(n):"json"===r?d3.json("assets/data/".concat(t)).then(e).catch(n):n(new Error("unsupported file type for: ".concat(t)))})}function e(e){if("string"==typeof e)return t(e);var n=e.map(t);return Promise.all(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"mJmG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./load-data"));function t(e){return e&&e.__esModule?e:{default:e}}var o=[],r=[],c=d3.selectAll("#catIN"),n=d3.selectAll("#catCEN"),l=d3.selectAll("#catPCT"),d=d3.selectAll("#wordIN"),a=d3.selectAll("#wordCEN"),u=d3.selectAll("#wordPCT");function s(e){var t=r.filter(function(t){return t.category==e}),o=t[0].inSongs,d=t[0].censored,a=t[0].pctCensored;a=Number(a).toFixed(1),c.text("".concat(o)),n.text("".concat(d)),l.text("".concat(a))}function i(e){var t=o.filter(function(t){return t.badword==e}),r=t[0].inSongs,c=t[0].censored,n=t[0].pctCensored;n=Number(n).toFixed(1),d.text("".concat(r)),a.text("".concat(c)),u.text("".concat(n))}function f(){(0,e.default)(["groupOverviewNumbers.csv","wordOverviewNumbers.csv"]).then(function(e){r=e[0],o=e[1]}).catch(console.error)}var v={init:f,populateGroupText:s,populateWordText:i};exports.default=v;
},{"./load-data":"xZJw"}],"MBJX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./load-data")),t=n(require("./percentages"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=null,l=[],s=[],i=d3.select(".first-select"),u=d3.select("#slide_18").select(".compare-wrapper");function d(e){return e.map(function(e){return o({},e,{category:c.get(e.word)})})}function p(){var e=d3.select(this).select("input"),t=e.attr("checked"),n=d3.select(this.parentNode),r=d3.select(n.node().parentNode),o=d3.select(r.node().parentNode).select(".origLyric"),a=n.selectAll(".toggle-kb"),c=n.selectAll(".toggle-og");"true"===t?(o.transition().duration(100).delay(0).ease(d3.easeLinear).text(function(e){return e.original}),a.classed("toggle-on",!1),c.classed("toggle-on",!0)):(o.transition().duration(100).delay(0).ease(d3.easeLinear).text(function(e){return e.kb}),a.classed("toggle-on",!0),c.classed("toggle-on",!1)),"true"===e.attr("checked")?e.attr("checked","false"):e.attr("checked","true")}function f(e){var t=s.filter(function(t){return t.key===e})[0].values.sort(function(e,t){return d3.descending(+e.kb_deets,+t.kb_deets)});u.selectAll(".lyric-set").data(t,function(e){return e?e.word:null}).join(function(e){var t=e.append("div").attr("class","lyric-set"),n=t.append("div").attr("class","lyric-head");t.append("p").attr("class","origLyric").text(function(e){return e.kb});var r=n.append("div").attr("class","deets");r.append("p").attr("class","song").text(function(e){return e.song}),r.append("p").attr("class","kb-deets").text(function(e){return"Kidz Bop (".concat(e.kb_deets,")")}),r.append("p").attr("class","orig-deets").text(function(e){return e.original_deets});var o=n.append("div").attr("class","toggle");o.append("p").attr("class","toggle-labels toggle-kb toggle-on").text("KB");var a=o.append("label").attr("class","switch");a.append("input").attr("type","checkbox").attr("class","is-kb").attr("checked","true"),a.append("span").attr("class","slider round"),a.on("change",p),o.append("p").attr("class","toggle-labels toggle-og").text("OG")})}function g(){s.sort(function(e,t){return d3.ascending(e.key,t.key)});i.selectAll("option").data(s,function(e){return e.key}).join(function(e){return e.append("option").text(function(e){return e.key}).attr("value",function(e){return e.key})}),i.on("change",function(){var e=d3.select(this).property("value");f(e),t.default.populateWordText(e)})}function y(e){var n=l.filter(function(t){return t.category===e});if(s=d3.nest().key(function(e){return e.word}).rollup(function(e){return{length:e.length,values:e}}).entries(n).map(function(e){return{key:e.key,length:e.value.length,values:e.value.values}})){g();var r=null;"alcohol"==e?(r=s[17].key,i.node().options[17].selected=!0):"sexual"==e?(r=s[22].key,i.node().options[22].selected=!0):"profanity"==e?(r=s[6].key,i.node().options[6].selected=!0):"violence"==e?(r=s[11].key,i.node().options[11].selected=!0):"identity"==e?(r=s[2].key,i.node().options[2].selected=!0):"other"==e?(r=s[16].key,i.node().options[16].selected=!0):r=s[0].key,f(r),t.default.populateWordText(r)}}function v(){}function k(){(0,e.default)(["cat_crosswalk.csv","cat_lyrics.csv"]).then(function(e){var t=e[0].map(function(e){return[e.word,e.category]});c=new Map(t),l=d(e[1])}).catch(console.error)}var b={init:k,resize:v,filter:y};exports.default=b;
},{"./load-data":"xZJw","./percentages":"mJmG"}],"TAPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./lyrics")),s=a(require("./utils/prepare-span")),t=a(require("./categories")),l=a(require("./percentages"));function a(e){return e&&e.__esModule?e:{default:e}}function c(){}var i=d3.selectAll(".slide"),n=d3.select("#method-button"),r=d3.select("#method svg"),d=d3.select("#touch"),o=d.selectAll("#right"),u=d.selectAll("#left"),f=d.selectAll("#skipper"),p=d.selectAll("#begin"),v=d3.selectAll(".category-bar"),h=d3.selectAll(".song-circle"),b=i.filter(function(e,s,t){return d3.select(t[s]).attr("data-quiz")}),g=i.filter(function(e,s,t){return d3.select(t[s]).attr("data-answer")}),y=d3.selectAll("#count"),A=d3.select(".quiz-details"),m=d3.select("#categories"),w=d3.selectAll(".quiz-feedback p"),x=null,z=null,q=null,k=null,L=null,T=null;function _(){b.nodes().forEach(function(e){var t=d3.select(e).select(".lyric-wrapper p");s.default.prepare(t)}),x=d3.selectAll(".lyric-wrapper span")}function B(){d3.selectAll("#slide_3").selectAll(".lyric-wrapper p").selectAll("span").attr("class",function(e,s){return s?null:"hintSpan"})}function C(){z=d3.select(".is-visible-slide");var e=(q=+z.attr("data-slide"))>=3&&(q+1)%2!=0;k=i.filter(function(e,s,t){return d3.select(t[s]).attr("data-slide")==="".concat(q-1)}),L=i.filter(function(e,s,t){return d3.select(t[s]).attr("data-slide")==="".concat(q+1)}),1==q?(d3.select("header").classed("is-visible",!0),d3.select("#right").classed("pulse",!0)):(d3.select("header").classed("is-visible",!1),d3.select("#right").classed("pulse",!1)),17==q?(m.classed("is-visible",!0).style("pointer-events","all"),v.classed("not-chosen",!1).classed("cat-chosen",!1).transition().duration(250).delay(function(e,s){return 25*s}).ease(d3.easeLinear).style("transform","translate(0, 0)")):q<17&&m.classed("is-visible",!1),e&&(T=i.filter(function(e,s,t){return d3.select(t[s]).attr("data-slide")==="".concat(q-1)})),O()}function K(){i.attr("data-slide",function(e,s){return s+1}),C()}function S(s){var t=T.selectAll("span"),l=T.selectAll(".censored"),a=T.attr("data-quiz"),c=e.default.filter(function(e){return e.quizID===+a})[0],i=c.exact.filter(function(e){return!s.includes(e)}),n=s.filter(function(e){return!c.exact.includes(e)}),r=t.size()===l.size(),d=h.filter(function(e,s,t){return d3.select(t[s]).attr("data-quiz")===a}),o=d3.selectAll(".slide").filter(function(e,s,t){return d3.select(t[s]).attr("data-answer")===a}).selectAll(".compare-wrapper .quiz-feedback p"),u=null;if(u=c.main?c.main.map(function(e){return s.includes(e)}):["true"],r)d.classed("is-wrong",!0).classed("is-correct",!1),o.classed("slide-in",!0).classed("is-wrong",!0).html("<span>Whoa!</span><br> You can't censor it all.");else if(0===i.length&&0===n.length)d.classed("is-correct",!0).classed("is-wrong",!1),o.classed("slide-in",!0).classed("is-correct",!0).html("<span>Correct!</span><br> Do you secretly have a Kidz Bop playlist?");else if(c.uncensored&&s.includes(c.uncensored)){var f=d3.select(t.nodes()[c.uncensored]).text();f=f.replace(",",""),d.classed("is-wrong",!0).classed("is-correct",!1),o.classed("slide-in",!0).classed("is-wrong",!0).html("<span>Oops!</span><br> Kidz Bop didn't actually censor \"".concat(f,'."'))}else i.length>0&&!u.includes(!1)?(d.classed("is-correct",!0).classed("is-wrong",!1),o.classed("slide-in",!0).classed("is-correct",!0).html("<span>This counts!</span><br> You found the main censored word.")):(d.classed("is-wrong",!0).classed("is-correct",!1),o.classed("slide-in",!0).classed("is-wrong",!0).html("<span>Yikes!</span><br> This still needs a parental advisory label."))}function D(){var e=T.selectAll(".censored"),s=[];e.each(function(){var e=d3.select(this).attr("data-index");s.push(+e)}),S(s)}function I(){var e=d3.select(this);x.classed("hintSpan",!1);var s=e.classed("censored");e.classed("censored",!s)}function Y(){d3.selectAll("#left").classed("is-visible",!1),d3.selectAll("#right").classed("solo",!0)}function M(){var e=A.selectAll(".is-correct").size();d3.select(".correct-count").text(e),d3.select(".results-sentence").text(function(){return e<=2?"Kids, earmuffs! Did you even really try?!":e<4&&e>2?"This might seem safe for the radio, but not for Kidz Bop.":"The FCC has nothing on you!"})}function O(){d3.selectAll("#prompt");var e=d3.selectAll("#left"),s=d3.selectAll("#right"),t=s.select("button p"),l=z.attr("data-quiz")||z.attr("data-answer")||13===q;2===q?t.text("Take the quiz"):z.attr("data-quiz")?t.text("I think I've got it"):z.attr("data-answer")&&12!==q?t.text("Next Song"):12===q?t.text("Show my results"):13===q?t.text("Tell me more"):1===q&&t.text("Let's find out"),f.classed("is-visible",[2].includes(q)),p.classed("is-visible",[18].includes(q)),d3.selectAll(".bottom-fade").classed("is-visible",[18].includes(q)),e.classed("is-visible",[14,15,16,18].includes(q)),s.classed("is-visible",![17,18].includes(q)),s.classed("solo",q<=13),e.classed("solo",18==q),A.classed("is-visible",l),z.attr("data-quiz")&&y.text(z.attr("data-quiz")),13===q&&(M(),A.classed("total",!0)),q>16&&q<18?d.style("pointer-events","none"):d.style("pointer-events","all")}function P(){var e=z.attr("data-quiz");z.classed("is-visible-slide",!1),L.classed("is-visible-slide",!0),C(),e&&D()}function j(){d3.select("#method").classed("is-visible",!0),d3.selectAll("body").style("overflow","scroll")}function E(){d3.select("#method").classed("is-visible",!1),d3.selectAll("body").style("overflow","hidden")}function F(){z.classed("is-visible-slide",!1),k.classed("is-visible-slide",!0),C()}function G(){i.classed("is-visible-slide",!1),d3.select('[data-chart="bar"]').classed("is-visible-slide",!0),C()}function N(){i.classed("is-visible-slide",!1),d3.select("#slide_1").classed("is-visible-slide",!0),C(),d3.selectAll(".censored").classed("censored",!1),d3.selectAll(".song-circle").classed("is-wrong",!1),d3.selectAll(".song-circle").classed("is-correct",!1),d3.selectAll(".quiz-details").classed("total",!1)}function R(e){var s=e.select("p"),t=e.attr("data-direction");s.classed("is-visible",!1),e.select("button").transition().duration(25).delay(100).ease(d3.easeLinear).style("transform","rotate(0deg)"),v.classed("not-chosen",!1).classed("cat-chosen",!1).transition().duration(250).delay(function(e,s){return 25*s}).ease(d3.easeLinear).style("transform","translate(0, 0)"),"back"===t&&d3.event.stopPropagation(),F(),m.style("pointer-events","all")}function W(){v.on("click",function(){var e=d3.select(this);"back"===e.attr("data-cat")?R(e):H(e)})}function H(e){e.node().attr;var s=e.classed("cat-chosen",!0);s.classed("not-chosen",!1);s.select(".button-wrapper p");var a=s.select(".button-wrapper button"),c=d3.selectAll(".category-bar").filter(function(){return!this.classList.contains("cat-chosen")});e.node().getBoundingClientRect();c.transition().duration(250).delay(function(e,s){return 25*s}).ease(d3.easeLinear).style("transform","translate(-100%)"),s.transition().duration(250).delay(250).ease(d3.easeLinear).style("transform","translate(100%)");var i=s.node().getAttribute("data-cat"),n=d3.selectAll("#category-sent");n.text(function(){return"alcohol"==i?"alcohol & drugs":"sexual"==i?"sexual references":i}),n.attr("class",null),n.classed("".concat(i,"-sent"),!0),P(),t.default.filter(s.attr("data-cat"));var r=n.text();l.default.populateGroupText(r),m.style("pointer-events","none"),a.style("pointer-events","all")}function J(){K(),_(),Y(),W(),B(),n.on("click",j),r.on("click",E),d3.select("#method").on("click",E),o.on("click",P),u.on("click",F),f.on("click",G),p.on("click",N),x.on("click",I)}var Q={init:J,resize:c};exports.default=Q;
},{"./lyrics":"b9Lb","./utils/prepare-span":"qa0R","./categories":"MBJX","./percentages":"mJmG"}],"lhDN":[function(require,module,exports) {
d3.selection.prototype.stackedBar=function(t){var n=this.nodes().map(function(t){var n=d3.select(t),e=n.datum(),r=0,a=d3.scaleLinear(),i={init:function(){n.selectAll(".year").data(e,function(t){return t.year}).join(function(t){var n=t.append("div").attr("class","year");return n.append("p").attr("class","year__number").text(function(t){return t.year}),n.append("div").attr("class","year__barCont"),n})},resize:function(){r=n.node().offsetWidth-50-0,n.node().offsetHeight;var t=d3.max(e,function(t){return t.total});return a.domain([0,t]).range([0,r]),i},render:function(){return n.selectAll(".year__barCont").selectAll(".bar").data(function(t){return t.censored}).join(function(t){return t.append("div").attr("class",function(t){return"bar bar--".concat(t.key)})}).style("width",function(t){return"".concat(a(t.value),"px")}).style("height","10px"),i},data:function(t){return arguments.length?(e=t,n.datum(e),i):e}};return i.init(),i});return n.length>1?n:n.pop()};
},{}],"JciQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./load-data"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(n,!0).forEach(function(r){o(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}require("./pudding-chart/proportion-chart");var c=d3.selectAll('[data-chart="bar"]'),i=c.selectAll(".chart"),a=[],u=[];function l(e){var r=e.censored.map(function(e){return e.value});return d3.sum(r)}function s(e){return e.map(function(e){return{year:+e.year,censored:d3.entries({alcohol:+e.alcohol,sexual:+e.sexual,profanity:+e.profanity,violence:+e.violence,identity:+e.identity,other:+e.other})}}).map(function(e){return n({},e,{total:l(e)})})}function f(){a.forEach(function(e){return e.resize().render()})}function p(){var e=d3.select(this).data([u]).stackedBar();e.resize().render(),a.push(e)}function d(){(0,e.default)("proportions-kb.csv").then(function(e){u=s(e),i.each(p)}).catch(console.error)}var b={init:d,resize:f};exports.default=b;
},{"./load-data":"xZJw","./pudding-chart/proportion-chart":"lhDN"}],"epB2":[function(require,module,exports) {
"use strict";var e=a(require("lodash.debounce")),i=a(require("./utils/is-mobile")),t=a(require("./utils/link-fix")),s=a(require("./graphic")),r=a(require("./proportion")),n=a(require("./categories")),l=a(require("./percentages"));function a(e){return e&&e.__esModule?e:{default:e}}var d=d3.select("body"),u=0;function c(){var e=window.innerHeight+"px";d3.select("#content").style("height","".concat(e))}function o(){var e=d.node().offsetWidth;u!==e&&(u=e,s.default.resize(),r.default.resize(),c())}function f(){if(d.select("header").classed("is-sticky")){var e=d.select(".header__menu"),i=d.select(".header__toggle");i.on("click",function(){var t=e.classed("is-visible");e.classed("is-visible",!t),i.classed("is-visible",!t)})}}function v(){(0,t.default)(),c(),d.classed("is-mobile",i.default.any()),window.addEventListener("resize",(0,e.default)(o,150)),f(),s.default.init(),r.default.init(),n.default.init(),l.default.init()}v();
},{"lodash.debounce":"or4r","./utils/is-mobile":"WEtf","./utils/link-fix":"U9xJ","./graphic":"TAPd","./proportion":"JciQ","./categories":"MBJX","./percentages":"mJmG"}]},{},["epB2"], null)